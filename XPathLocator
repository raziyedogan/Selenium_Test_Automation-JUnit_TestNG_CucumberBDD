package Part_01;

import io.github.bonigarcia.wdm.WebDriverManager;
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;

import java.time.Duration;

public class P07_XpathLocator {
    public static void main(String[] args){
        WebDriverManager.chromedriver().setup();
        WebDriver driver=new ChromeDriver();
        driver.manage().window().maximize();
        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(15));

        driver.get("https://the-internet.herokuapp.com/add_remove_elements/");

        //click add element button
        //The most reliable method for locating an element using XPath is as follows: Right-click on the “Add Element” button on the web page and select “Inspect.” In the window that opens, locate the onclick attribute of the relevant button. Press Ctrl+F to open the search field and type “//button[@onclick=‘addElement()’]”. Since only one match is found and it is unique, it can be easily used to locate the button.
        WebElement addElement=driver.findElement(By.xpath("//button[@onclick=‘addElement()’]"));
        addElement.click();

        //Test that the Delete button is visible
        //Right-click to access the Delete button and click inspect. This time, let's try to access it from the text. Since this is text rather than an attribute, the syntax changes slightly. “//*[text()=‘Delete’]”

        WebElement DeleteButton=driver.findElement(By.xpath("//*[text()=‘Delete’]"));
        if(DeleteButton.isDisplayed()){
            System.out.println("TEST PASSED");
        }else{
            System.out.println("TEST FAILED");
        }

        //Click delete button
        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));
        DeleteButton.click();

        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));
        //Test that the "Add/Remove Elements" text is visible
        if(driver.findElement(By.xpath("//*[text()='Add/Remove Elements']")).isDisplayed()){   //We did not assign it to a variable because we will only use it once.
            System.out.println("TEST PASSED");
        }else{
            System.out.println("TEST FAILED");
        }

        //clock the browser
        driver.close();
    }
}
